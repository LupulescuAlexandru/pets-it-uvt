var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,n){e instanceof String&&(e=String(e));for(var a=e.length,i=0;i<a;i++){var s=e[i];if(t.call(n,s,i,e))return{i:i,v:s}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,n,a){if(t){for(n=$jscomp.global,e=e.split("."),a=0;a<e.length-1;a++){var i=e[a];i in n||(n[i]={}),n=n[i]}(t=t(a=n[e=e[e.length-1]]))!=a&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),function(e){e.fn.formset=function(t){var n=e.extend({},e.fn.formset.defaults,t),a=e(this);t=a.parent();var i=function(t,n,a){var i=new RegExp("("+n+"-(\\d+|__prefix__))");n=n+"-"+a,e(t).prop("for")&&e(t).prop("for",e(t).prop("for").replace(i,n)),t.id&&(t.id=t.id.replace(i,n)),t.name&&(t.name=t.name.replace(i,n))},s=e("#id_"+n.prefix+"-TOTAL_FORMS").prop("autocomplete","off"),l=parseInt(s.val(),10),r=e("#id_"+n.prefix+"-MAX_NUM_FORMS").prop("autocomplete","off"),d=""===r.val()||0<r.val()-s.val();if(a.each(function(t){e(this).not("."+n.emptyCssClass).addClass(n.formCssClass)}),a.length&&d){var o=n.addButton;null===o&&("TR"===a.prop("tagName")?(a=this.eq(-1).children().length,t.append('<tr class="'+n.addCssClass+'"><td colspan="'+a+'"><a href="#">'+n.addText+"</a></tr>"),o=t.find("tr:last a")):(a.filter(":last").after('<div class="'+n.addCssClass+'"><a href="#">'+n.addText+"</a></div>"),o=a.filter(":last").next().find("a"))),o.on("click",function(t){t.preventDefault();var a=(t=e("#"+n.prefix+"-empty")).clone(!0);a.removeClass(n.emptyCssClass).addClass(n.formCssClass).attr("id",n.prefix+"-"+l),a.is("tr")?a.children(":last").append('<div><a class="'+n.deleteCssClass+'" href="#">'+n.deleteText+"</a></div>"):a.is("ul")||a.is("ol")?a.append('<li><a class="'+n.deleteCssClass+'" href="#">'+n.deleteText+"</a></li>"):a.children(":first").append('<span><a class="'+n.deleteCssClass+'" href="#">'+n.deleteText+"</a></span>"),a.find("*").each(function(){i(this,n.prefix,s.val())}),a.insertBefore(e(t)),e(s).val(parseInt(s.val(),10)+1),l+=1,""!==r.val()&&0>=r.val()-s.val()&&o.parent().hide(),a.find("a."+n.deleteCssClass).on("click",function(t){t.preventDefault(),a.remove(),--l,n.removed&&n.removed(a),e(document).trigger("formset:removed",[a,n.prefix]),t=e("."+n.formCssClass),e("#id_"+n.prefix+"-TOTAL_FORMS").val(t.length),(""===r.val()||0<r.val()-t.length)&&o.parent().show();var s,d=function(){i(this,n.prefix,f)},f=0;for(s=t.length;f<s;f++)i(e(t).get(f),n.prefix,f),e(t.get(f)).find("*").each(d)}),n.added&&n.added(a),e(document).trigger("formset:added",[a,n.prefix])})}return this},e.fn.formset.defaults={prefix:"form",addText:"add another",deleteText:"remove",addCssClass:"add-row",deleteCssClass:"delete-row",emptyCssClass:"empty-row",formCssClass:"dynamic-form",added:null,removed:null,addButton:null},e.fn.tabularFormset=function(t,n){var a=e(this),i=function(n){e(t).not(".add-row").removeClass("row1 row2").filter(":even").addClass("row1").end().filter(":odd").addClass("row2")};return a.formset({prefix:n.prefix,addText:n.addText,formCssClass:"dynamic-"+n.prefix,deleteCssClass:"inline-deletelink",deleteText:n.deleteText,emptyCssClass:"empty-form",removed:i,added:function(t){!function(t){t.find(".prepopulated_field").each(function(){var n=e(this).find("input, select, textarea"),a=n.data("dependency_list")||[],i=[];e.each(a,function(e,n){i.push("#"+t.find(".field-"+n).find("input, select, textarea").attr("id"))}),i.length&&n.prepopulate(i,n.attr("maxlength"))})}(t),"undefined"!=typeof DateTimeShortcuts&&(e(".datetimeshortcuts").remove(),DateTimeShortcuts.init()),"undefined"!=typeof SelectFilter&&(e(".selectfilter").each(function(e,t){e=t.name.split("-"),SelectFilter.init(t.id,e[e.length-1],!1)}),e(".selectfilterstacked").each(function(e,t){e=t.name.split("-"),SelectFilter.init(t.id,e[e.length-1],!0)})),i()},addButton:n.addButton}),a},e.fn.stackedFormset=function(t,n){var a=e(this),i=function(n){e(t).find(".inline_label").each(function(t){t+=1,e(this).html(e(this).html().replace(/(#\d+)/g,"#"+t))})};return a.formset({prefix:n.prefix,addText:n.addText,formCssClass:"dynamic-"+n.prefix,deleteCssClass:"inline-deletelink",deleteText:n.deleteText,emptyCssClass:"empty-form",removed:i,added:function(t){!function(t){t.find(".prepopulated_field").each(function(){var n=e(this).find("input, select, textarea"),a=n.data("dependency_list")||[],i=[];e.each(a,function(e,n){i.push("#"+t.find(".form-row .field-"+n).find("input, select, textarea").attr("id"))}),i.length&&n.prepopulate(i,n.attr("maxlength"))})}(t),"undefined"!=typeof DateTimeShortcuts&&(e(".datetimeshortcuts").remove(),DateTimeShortcuts.init()),"undefined"!=typeof SelectFilter&&(e(".selectfilter").each(function(e,t){e=t.name.split("-"),SelectFilter.init(t.id,e[e.length-1],!1)}),e(".selectfilterstacked").each(function(e,t){e=t.name.split("-"),SelectFilter.init(t.id,e[e.length-1],!0)})),i()},addButton:n.addButton}),a},e(document).ready(function(){e(".js-inline-admin-formset").each(function(){var t=e(this).data(),n=t.inlineFormset;switch(t.inlineType){case"stacked":t=n.name+"-group .inline-related",e(t).stackedFormset(t,n.options);break;case"tabular":t=n.name+"-group .tabular.inline-related tbody:first > tr",e(t).tabularFormset(t,n.options)}})})}(django.jQuery);