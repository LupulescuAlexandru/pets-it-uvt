!function(){"use strict";var t={monthsOfYear:[gettext("January"),gettext("February"),gettext("March"),gettext("April"),gettext("May"),gettext("June"),gettext("July"),gettext("August"),gettext("September"),gettext("October"),gettext("November"),gettext("December")],daysOfWeek:[pgettext("one letter Sunday","S"),pgettext("one letter Monday","M"),pgettext("one letter Tuesday","T"),pgettext("one letter Wednesday","W"),pgettext("one letter Thursday","T"),pgettext("one letter Friday","F"),pgettext("one letter Saturday","S")],firstDayOfWeek:parseInt(get_format("FIRST_DAY_OF_WEEK")),isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(e,r){return 1===e||3===e||5===e||7===e||8===e||10===e||12===e?31:4===e||6===e||9===e||11===e?30:2===e&&t.isLeapYear(r)?29:28},draw:function(e,r,n,a,i){var o=new Date,s=o.getDate(),u=o.getMonth()+1,c=o.getFullYear(),h="",d=!1;void 0!==i&&(d=i.getUTCFullYear()===r&&i.getUTCMonth()+1===e),e=parseInt(e),r=parseInt(r);var l=document.getElementById(n);removeChildren(l);var g=document.createElement("table");quickElement("caption",g,t.monthsOfYear[e-1]+" "+r);for(var f=quickElement("tbody",g),y=quickElement("tr",f),m=0;m<7;m++)quickElement("th",y,t.daysOfWeek[(m+t.firstDayOfWeek)%7]);var x=new Date(r,e-1,1-t.firstDayOfWeek).getDay(),p=t.getDaysInMonth(e,r);for(y=quickElement("tr",f),m=0;m<x;m++)quickElement("td",y," ").className="nonday";function w(t,e){return function(r){r.preventDefault(),a(t,e,this.textContent)}}var M=1;for(m=x;M<=p;m++){m%7==0&&1!==M&&(y=quickElement("tr",f)),h=M===s&&e===u&&r===c?"today":"",d&&M===i.getUTCDate()&&(""!==h&&(h+=" "),h+="selected");var k=quickElement("td",y,"","class",h);quickElement("a",k,M,"href","#").addEventListener("click",w(r,e)),M++}for(;y.childNodes.length<7;)quickElement("td",y," ").className="nonday";l.appendChild(g)}};function e(t,e,r){this.div_id=t,this.callback=e,this.today=new Date,this.currentMonth=this.today.getMonth()+1,this.currentYear=this.today.getFullYear(),void 0!==r&&(this.selected=r)}e.prototype={drawCurrent:function(){t.draw(this.currentMonth,this.currentYear,this.div_id,this.callback,this.selected)},drawDate:function(t,e,r){this.currentMonth=t,this.currentYear=e,r&&(this.selected=r),this.drawCurrent()},drawPreviousMonth:function(){1===this.currentMonth?(this.currentMonth=12,this.currentYear--):this.currentMonth--,this.drawCurrent()},drawNextMonth:function(){12===this.currentMonth?(this.currentMonth=1,this.currentYear++):this.currentMonth++,this.drawCurrent()},drawPreviousYear:function(){this.currentYear--,this.drawCurrent()},drawNextYear:function(){this.currentYear++,this.drawCurrent()}},window.Calendar=e,window.CalendarNamespace=t}();